(this.webpackJsonpcarbon=this.webpackJsonpcarbon||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),l=n.n(r),s=n(3),o=n.n(s),a=(n(12),n(0)),i=function(){return Object(a.jsx)("header",{className:"app__header",children:Object(a.jsx)("h1",{children:"Carbon Footprint"})})},c=n(4),u=n(5),d=n(7),h=n(6),m=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={year:["2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002","2001","2000","1999","1998","1997","1996","1995","1994","1993","1992","1991","1990","1989","1988","1987","1986","1985","1984"],selectedYear:null,make:null,selectedMake:null,model:null,selectedModel:null,options:null,selectedOption:null,avgMPG:null,miles:null,carbonFootprint:null,error:null},e}return Object(u.a)(n,[{key:"handleErrors",value:function(e){return"No Content"===e.statusText?Promise.reject({code:e.status,message:e.statusText}):e.text()}},{key:"handleChange",value:function(e,t){var n=this;if(t.target.value){if("year"===e){var r=t.target.value;return fetch("https://www.fueleconomy.gov/ws/rest/vehicle/menu/make?year=".concat(r),{method:"GET"}).then((function(e){return n.handleErrors(e)})).then((function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),l=[];t.childNodes[0].childNodes.forEach((function(e){l.push(e.childNodes[0].innerHTML)})),n.setState({selectedYear:r,make:l,selectedMake:null,model:null,selectedModel:null,options:null,selectedOption:null,avgMPG:null,miles:null,carbonFootprint:null,error:null})})).catch((function(e){console.error(e),n.setState({error:"This selection did not return any data."})}))}if("make"===e){var l=t.target.value;return fetch("https://fueleconomy.gov/ws/rest/vehicle/menu/model?year=".concat(this.state.selectedYear,"&make=").concat(l),{method:"GET"}).then((function(e){return n.handleErrors(e)})).then((function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),r=[];t.childNodes[0].childNodes.forEach((function(e){r.push(e.childNodes[0].innerHTML)})),n.setState({selectedMake:l,model:r,selectedModel:null,options:null,selectedOption:null,avgMPG:null,miles:null,carbonFootprint:null,error:null})})).catch((function(e){console.error(e),n.setState({error:"This selection did not return any data."})}))}if("model"===e){var s=t.target.value;return fetch("https://fueleconomy.gov/ws/rest/vehicle/menu/options?year=".concat(this.state.selectedYear,"&make=").concat(this.state.selectedMake,"&model=").concat(s),{method:"GET"}).then((function(e){return n.handleErrors(e)})).then((function(e){var t=(new DOMParser).parseFromString(e,"application/xml"),r=[];t.childNodes[0].childNodes.forEach((function(e){var t={},n=e.childNodes[1].innerHTML;t[e.childNodes[0].innerHTML]=n,r.push(t)})),n.setState({selectedModel:s,options:r,selectedOption:null,avgMPG:null,miles:null,carbonFootprint:null,error:null})})).catch((function(e){console.error(e),n.setState({error:"This selection did not return any data."})}))}if("options"===e){var o=t.target.value;return fetch("https://fueleconomy.gov/ws/rest/ympg/shared/ympgVehicle/".concat(o),{method:"GET"}).then((function(e){return n.handleErrors(e)})).then((function(e){var t=(new DOMParser).parseFromString(e,"application/xml").childNodes[0].childNodes[0].innerHTML;n.setState({selectedOption:o,avgMPG:t,miles:null,carbonFootprint:null,error:null})})).catch((function(e){console.error(e),n.setState({error:"This selection did not return any data."})}))}"miles-driven"===e&&this.setState({miles:t.target.value})}console.log(this.state,"this.state")}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.error){var t=this.state.miles/this.state.avgMPG*8887;t=t.toFixed(2),this.setState({carbonFootprint:t})}}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(a.jsx)("h2",{children:"Calculate Carbon Footprint"}),Object(a.jsx)("div",{className:"form__error",children:this.state.error}),Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("p",{children:"To calculate a vehicle's carbon footprint, enter the information below and click 'Submit.'"}),Object(a.jsxs)("div",{className:"form__select",children:[Object(a.jsx)("label",{htmlFor:"miles-driven",children:"miles/year: "}),Object(a.jsx)("input",{id:"miles-driven",type:"number",min:"0",onChange:function(t){return e.handleChange("miles-driven",t)},required:!0})]}),["year","make","model"].map((function(t){return Object(a.jsxs)("div",{className:"form__select",children:[Object(a.jsxs)("label",{htmlFor:t,children:[t,": "]}),Object(a.jsxs)("select",{name:t,id:t,disabled:null===e.state[t],onChange:function(n){return e.handleChange(t,n)},defaultValue:"",children:[Object(a.jsx)("option",{value:"",children:"-- Select -- "}),null===e.state[t]?null:e.state[t].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]})]},t)})),Object(a.jsxs)("div",{className:"form__select",children:[Object(a.jsx)("label",{htmlFor:"options",children:"options: "}),Object(a.jsxs)("select",{name:"options",id:"options",disabled:null===this.state.options,onChange:function(t){return e.handleChange("options",t)},defaultValue:"",children:[Object(a.jsx)("option",{value:"",children:"-- Select -- "}),null===this.state.options?null:this.state.options.map((function(e){return Object(a.jsx)("option",{value:Object.values(e)[0],children:Object.keys(e)[0]},Object.keys(e)[0])}))]})]})]}),Object(a.jsx)("button",{disabled:!this.state.miles&&!this.state.avgMPG,children:"Submit"})]}),Object(a.jsxs)("div",{className:"results",children:[Object(a.jsxs)("p",{children:["Miles/year: ",this.state.miles]}),Object(a.jsxs)("p",{children:["Miles per gallon (MPG): ",this.state.avgMPG?this.state.avgMPG:null]}),Object(a.jsxs)("p",{children:["Carbon Footprint: ",this.state.carbonFootprint&&!this.state.error?this.state.carbonFootprint+"g CO2 per year":null]})]})]})}}]),n}(l.a.Component);n(14);var p=function(){return Object(a.jsxs)("main",{children:[Object(a.jsx)(i,{}),Object(a.jsx)(m,{})]})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,r=t.getFID,l=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),l(e),s(e),o(e)}))};o.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root")),j()}},[[15,1,2]]]);
//# sourceMappingURL=main.dcd61711.chunk.js.map